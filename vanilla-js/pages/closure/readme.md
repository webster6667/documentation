# –ó–∞–º—ã–∫–∞–Ω–∏–µ

> –ü—Ä–∏–µ–º –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è, –≤ –∫–æ—Ç–æ—Ä–æ–º —Ñ—É–Ω–∫—Ü–∏—è, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥—Ä—É–≥—É—é —Ñ—É–Ω–∫—Ü–∏—é, —Å–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤—É—è –¥–æ—á–µ—Ä–Ω—é—é —Ñ—É–Ω–∫—Ü–∏.   

>–ú–æ–∂–µ—Ç –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –∏—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–µ 

üí† –ü–æ–∑–≤–æ–ª—è–µ—Ç –¥–µ–ª–∞—Ç—å –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π      
```javascript
//–§—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∞—è –∫–≤–∞–¥—Ä–∞—Ç
function getNumberSquared(number) {
  return number * number;
}

//–§—É–Ω–∫—Ü–∏—è –∫–µ—à–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤–æ–∑–≤–µ–¥–µ–Ω–∏—è –≤ –∫–≤–∞–¥—Ä–∞—Ç
function cacheDecorator(fn) {
  let cache = new Map()

  return (...args) => {
    //üéØ –ü–æ–ª—É—á–∞–µ–º —á–∏—Å–ª–æ –∫–æ—Ç–æ—Ä–æ–µ –Ω—É–∂–Ω–æ –≤–æ–∑–≤–µ—Å—Ç–∏ –≤ –∫–≤–∞–¥—Ä–∞—Ç
    const numberToSquared = args[0]

    //üéØ –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å–ª–∏ —ç—Ç–æ —á–∏—Å–ª–æ —É–∂–µ –≤–æ–∑–≤–æ–¥–∏–ª–∏ –≤ –∫–≤–∞–¥—Ä–∞—Ç
    //üéØ –û—Ç–¥–∞–¥–∏–º –µ–≥–æ –∏–∑ –∫–µ—à–∞ 
    if (cache.has(numberToSquared)) {
      return cache.get(numberToSquared)
    }

    //üéØ –ï—Å–ª–∏ —á–∏—Å–ª–∞ –Ω–µ—Ç –≤ –∫–µ—à–µ
    //üéØ –í—ã–ø–æ–ª–Ω—è–µ–º –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ
    const numberSquared = fn.apply(this, args);
    
    //üéØ –ó–∞–ø–∏—Å—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –∫–µ—à
    cache.set(numberToSquared, numberSquared)
    
    return numberSquared
  };
}

//üéØ –ë–µ–∑ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞ —Ñ—É–Ω–∫—Ü–∏—è –¥–≤–∞ —Ä–∞–∑–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ 
console.log(getNumberSquared(2));
console.log(getNumberSquared(2));

//üéØ –û–±–æ—Ä–∞—á–∏–≤–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é –≤ –∫–µ—à –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä
const getNumberSquaredWithCache = cacheDecorator(getNumberSquared);

//üéØ –§—É–Ω–∫—Ü–∏—è –ø–µ—Ä–≤—ã–π —Ä–∞–∑ –≤—ã–ø–æ–ª–Ω–∏—Ç –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ
console.log(getNumberSquaredWithCache(2));

//üéØ –í—Ç–æ—Ä–æ–π —Ä–∞–∑ –≤–æ–∑—å–º–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç —ç—Ç–æ–≥–æ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –∏–∑ –∫–µ—à–∞
console.log(getNumberSquaredWithCache(2));
```
[![Edit decorator](https://codesandbox.io/static/img/play-codesandbox.svg)](https://codesandbox.io/s/decorator-jyl4b?fontsize=14&hidenavigation=1&theme=dark)

<br>

üí† –û–ø—Ä–µ–¥–µ–ª—è—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ—É–Ω–∫—Ü–∏–∏, –¥–æ –µ–µ –≤—ã–∑–æ–≤–∞
```javascript
//–õ–æ–≥–µ—Ä –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π —Å —Ä–∞–∑–Ω—ã–º–∏ id
function appsLogger(appId, text) {
  //...logic

  console.log(`send: ${text}, to application number: ${appId}`);
}

//–§—É–Ω–∫—Ü–∏—è –æ–±–µ—Ä—Ç–∫–∞
//–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
//–° —É–∂–µ –ø—Ä–æ–ø–∏—Å–∞–Ω–Ω—ã–º id –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
function sendLoggerWrapper(fn, appId) {
  return (...args) => {
    fn.call(this, appId, ...args);
  };
}

const sendLog = sendLoggerWrapper(appsLogger, 1);

sendLog("was payed"); //send: was payed, to application number: 1 
```

<br>

üí† –°–æ—Ö—Ä–∞–Ω—è—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞–±–æ—Ç—ã —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏  
&emsp;&emsp; üëÜ –ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏, `—Å–±–æ—Ä—â–∏–∫ –º—É—Å–æ—Ä–∞` –æ—á–∏—â–∞–µ—Ç –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤–Ω—É—Ç—Ä–∏ –Ω–µ–µ  

&emsp;&emsp;&emsp;&emsp; üéØ –≠—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∏–∑ –∑–∞ —Ç–æ–≥–æ —á—Ç–æ —ç—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ—Ä—è—é—Ç –¥–æ—Å—Ç–∏–∂–∏–º–æ—Å—Ç—å

&emsp;&emsp;&emsp;&emsp; üéØ –ö –Ω–∏–º –±–æ–ª—å—à–µ –Ω–∏–∫—Ç–æ –Ω–µ –æ–±—Ä–∞—â–∞–µ—Ç—Å—è

 
&emsp;&emsp; üëÜ –î–ª—è —Ç–æ–≥–æ —á—Ç–æ –±—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–∞–∫–∏—Ö –ª–∏–±–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏, –º–æ–∂–Ω–æ –ø–æ–º–µ—Å—Ç–∏—Ç—å –∏—Ö –≤ –∑–∞–º—ã–∫–∞–Ω–∏–µ
      
&emsp;&emsp;&emsp;&emsp; üéØ –ö–æ–≥–¥–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –∑–∞–º—ã–∫–∞–Ω–∏–∏, –æ–Ω–∏ –ø–æ–ø–∞–¥–∞—é—Ç –≤ `[[Scope]]` –¥–æ—á–µ—Ä–Ω–µ–π —Ñ—É–Ω–∫—Ü–∏–∏
  
&emsp;&emsp;&emsp;&emsp; üéØ –ó–Ω–∞—á–∏—Ç –æ–Ω–∏ –¥–æ—Å—Ç–∏–∂–∏–º—ã, –∏ —Å–±–æ—Ä—â–∏–∫ –º—É—Å–æ—Ä–∞ –∏—Ö –Ω–µ –æ–±–Ω—É–ª–∏—Ç
```javascript
//–§—É–Ω–∫—Ü–∏—è –æ–±–µ—Ä—Ç–∫–∞, —Ö—Ä–∞–Ω—è—â–∞—è –∫–æ–ª-–≤–æ –∫–ª–∏–∫–æ–≤ –≤ –∑–∞–º—ã–∫–∞–Ω–∏–∏
function counterWrapper() {
  let count = 0;

  return () => {
    ++count;

    return count;
  };
}

const clickCount = counterWrapper();

console.log(clickCount()); // => 1
console.log(clickCount()); // => 2
console.log(clickCount()); // => 3
```

<br>

üí† –°–æ–∑–¥–∞–≤–∞—Ç—å –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ      
&emsp;&emsp; üéØ –û–±—Ä–∞—â–µ–Ω–∏–µ –∫ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º –≤ –∑–∞–º—ã–∫–∞–Ω–∏–∏, –¥–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –∏–∑–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏  
&emsp;&emsp;&emsp;&emsp; üëÜ –ï—Å–ª–∏ —Ñ—É–Ω–∫—Ü–∏—è –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Å—ã–ª–∫—É –Ω–∞ –æ–±—ä–µ–∫—Ç


&emsp;&emsp; üéØ –û–±—Ä–∞—â–µ–Ω–∏—è —Å –Ω–∞—Ä—É–∂–∏, –≤–æ–∑–º–æ–∂–Ω–æ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø–æ–º–æ—â–∏ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤ –¥–æ—á–µ—Ä–Ω–µ–π —Ñ—É–Ω–∫—Ü–∏–∏

```javascript
function elementSizesWrapper() {
  let _width = 0,
    _height = 0,
    _resetSizes = () => {
      _width = 0;
      _height = 0;
    };
  return {
    getSizes: () => {
      return { width: _width, height: _height };
    },
    setHeight: (size) => {
      _height = size;
    },
    resetSize: () => _resetSizes()
  };
}

//üéØ –§—É–Ω–∫—Ü–∏—è —Å –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –≤ –∑–∞–º—ã–∫–∞–Ω–∏–∏
const elementSizes = elementSizesWrapper();

//üéØ –ü—Ä–æ–±—É–µ–º –∏–∑–º–µ–Ω–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–∞ –ø—Ä—è–º–∏–∫
elementSizes._height = 20;

//üéØ –ò–∑–º–µ–Ω–µ–Ω–∏–µ –≤ –Ω—É—Ç—Ä–∏ –∑–∞–º—ã–∫–∞–Ω–∏—è –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç
console.log(elementSizes.getSizes()); // => {width: 0, height: 0}

//üéØ –ü—Ä–æ–±—É–µ–º –∏–∑–º–µ–Ω–∏—Ç—å —á–µ—Ä–µ–∑ —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã
elementSizes.setHeight(20);

//üéØ –ü—Ä–∏–≤–∞—Ç–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ –∏–∑–º–µ–Ω–µ–Ω—ã
console.log(elementSizes.getSizes()); // => {width: 0, height: 20}

//üéØ –í—ã–∑–æ–≤–µ–º –ø—Ä–∏–≤–∞—Ç–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é
elementSizes.resetSize()

//üéØ –ü—Ä–∏–≤–∞—Ç–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∏–∑–º–µ–Ω–∏–ª–∞ –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞
console.log(elementSizes.getSizes()); // => {width: 0, height: 0}
```


##### üìó  **<a href="examplex/readme.md">–ë–æ–ª—å—à–µ –ø—Ä–∏–º–µ—Ä–æ–≤ –∑–∞–º—ã–∫–∞–Ω–∏—è</a>**

<br>

### ‚üµ **<a href="../../readme.md">–ù–∞–∑–∞–¥</a>**
